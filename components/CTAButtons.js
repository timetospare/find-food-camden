const CTAButtons = props => {
  const { org, nameGoogleParam, onReferralRequestClick } = props;

  const primaryCTA = org?.cta?.filter(cta => cta.primary == true)[0];
  const otherCTAs = org?.cta?.filter(cta => !cta.primary);

  let orderedArr = [
    {
      type: 'visit-website',
    },
  ];

  if (primaryCTA) {
    orderedArr = [primaryCTA, ...otherCTAs];
  } else if (org?.cta) {
    orderedArr = org?.cta;
  } else if (!org?.cta || org?.cta?.length == 0) {
    orderedArr;
  }

  return orderedArr?.map(cta => {
    const type = cta?.type;

    const primaryStyle =
      'btn-primary text-white px-2 flex flex-row items-center justify-center w-64 md:w-auto';

    const secondaryStyle =
      'btn-secondary text-royalb flex flex-row items-center justify-center w-64 md:w-auto';

    const btnStyle = type == primaryCTA?.type ? primaryStyle : secondaryStyle;

    switch (type) {
      case 'book-by-phone':
        return (
          <a href={org?.phone && `tel:${org.phone}`} target="_blank">
            <button className={btnStyle + ' capitalize'} key={type}>
              <span className="mr-2">
                <svg
                  width="15"
                  height="15"
                  viewBox="0 0 15 15"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M14.7244 11.75L11.3017 8.63791C11.1399 8.49085 10.9273 8.41242 10.7087 8.41918C10.4902 8.42593 10.2828 8.51735 10.1304 8.67411L8.11552 10.7463C7.63052 10.6537 6.65547 10.3497 5.6518 9.34856C4.64812 8.34405 4.34416 7.36647 4.25406 6.88485L6.32456 4.86908C6.48152 4.71678 6.57307 4.50939 6.57983 4.29079C6.58659 4.07219 6.50802 3.85954 6.36077 3.69784L3.24955 0.27592C3.10223 0.113712 2.89749 0.0153215 2.6788 0.00164342C2.4601 -0.0120346 2.24469 0.0600776 2.07831 0.202665L0.251156 1.76964C0.105582 1.91574 0.0186939 2.11019 0.00697348 2.31611C-0.00565665 2.52661 -0.246471 7.51298 3.62003 11.3812C6.99312 14.7534 11.2183 15.0001 12.382 15.0001C12.5521 15.0001 12.6565 14.9951 12.6843 14.9934C12.8901 14.9819 13.0845 14.8946 13.2299 14.7484L14.796 12.9204C14.9392 12.7545 15.0118 12.5393 14.9984 12.3206C14.9851 12.1019 14.8867 11.8971 14.7244 11.75V11.75Z"
                    fill="currentColor"
                  />
                </svg>
              </span>

              {type.replace(/-/g, ' ')}
            </button>
          </a>
        );
      case 'book-online':
        return (
          <a
            href={`${cta?.link}`}
            target="_blank"
            rel="noopener noreferrer"
            className="capitalize"
          >
            <button className={btnStyle + ' capitalize'} key={type}>
              <span className="mr-2">
                <svg
                  width="15"
                  height="12"
                  viewBox="0 0 15 12"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M11.0299 7.34279C10.0888 6.52395 8.85973 6.02829 7.51341 6.02829C6.1671 6.02829 4.93799 6.52395 3.99524 7.34446C3.9692 7.36793 3.95327 7.40057 3.95077 7.43554C3.94827 7.4705 3.95941 7.50508 3.98184 7.53201L4.58467 8.25038C4.63323 8.30731 4.71863 8.31401 4.77557 8.26545C5.50566 7.62243 6.46349 7.23394 7.51341 7.23394C8.56334 7.23394 9.52117 7.62243 10.2513 8.26378C10.3082 8.31234 10.3936 8.30564 10.4422 8.24871L11.045 7.53034C11.0919 7.47508 11.0852 7.39135 11.0299 7.34279ZM12.9958 4.99678C11.5105 3.75931 9.59987 3.01414 7.51341 3.01414C5.42696 3.01414 3.51632 3.75931 2.02935 4.99678C2.00214 5.01972 1.98512 5.05249 1.98198 5.08794C1.97884 5.12339 1.98985 5.15864 2.0126 5.186L2.61543 5.90437C2.66232 5.96131 2.74772 5.968 2.80298 5.92112C4.08064 4.85947 5.72335 4.2198 7.51341 4.2198C9.30348 4.2198 10.9462 4.85947 12.2222 5.92112C12.2791 5.968 12.3628 5.96131 12.4097 5.90437L13.0126 5.186C13.0594 5.12907 13.0527 5.04367 12.9958 4.99678V4.99678ZM14.95 2.66919C12.9171 1.00137 10.3149 0 7.47992 0C4.66337 0 2.07791 0.987969 0.0500593 2.6357C0.0361273 2.64689 0.0245757 2.66076 0.016085 2.67649C0.00759417 2.69221 0.00233578 2.70948 0.00061932 2.72727C-0.00109714 2.74506 0.000763087 2.76301 0.00609047 2.78007C0.0114179 2.79713 0.0201046 2.81295 0.0316394 2.8266L0.634468 3.54497C0.681355 3.60023 0.765081 3.6086 0.82034 3.56339C2.64055 2.08813 4.95641 1.20566 7.47992 1.20566C10.0219 1.20566 12.3528 2.10153 14.178 3.5952C14.235 3.64209 14.3187 3.63372 14.3656 3.57678L14.9684 2.85841C15.017 2.80148 15.0086 2.71608 14.95 2.66919ZM6.42497 9.98016C6.42497 10.2644 6.53788 10.537 6.73887 10.738C6.93985 10.9389 7.21244 11.0519 7.49667 11.0519C7.7809 11.0519 8.05349 10.9389 8.25447 10.738C8.45545 10.537 8.56836 10.2644 8.56836 9.98016C8.56836 9.69593 8.45545 9.42334 8.25447 9.22236C8.05349 9.02138 7.7809 8.90847 7.49667 8.90847C7.21244 8.90847 6.93985 9.02138 6.73887 9.22236C6.53788 9.42334 6.42497 9.69593 6.42497 9.98016Z"
                    fill="currentColor"
                  />
                </svg>
              </span>

              {type.replace(/-/g, ' ')}
            </button>
          </a>
        );
      case 'book-by-email':
        return (
          <a
            href={`mailto:${org?.email}`}
            target="_blank"
            rel="noopener noreferrer"
            className="capitalize"
          >
            <button className={btnStyle + ' capitalize'} key={type}>
              <span className="mr-2">
                <svg
                  width="15"
                  height="11"
                  viewBox="0 0 15 11"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M15 9.25926V1.32275C15 0.590829 14.4092 0 13.6772 0H1.32275C0.590829 0 0 0.590829 0 1.32275V9.25926C0 9.99118 0.590829 10.582 1.32275 10.582H13.6772C14.4092 10.582 15 9.99118 15 9.25926ZM13.8448 1.22575C14.1358 1.51675 13.9771 1.81658 13.8183 1.96649L10.2381 5.24691L13.6772 8.82716C13.7831 8.95062 13.8536 9.14462 13.7302 9.2769C13.6155 9.41799 13.351 9.40917 13.2363 9.32099L9.38272 6.03175L7.49559 7.75132L5.61728 6.03175L1.76367 9.32099C1.64903 9.40917 1.38448 9.41799 1.26984 9.2769C1.14638 9.14462 1.21693 8.95062 1.32275 8.82716L4.7619 5.24691L1.18166 1.96649C1.02293 1.81658 0.864197 1.51675 1.1552 1.22575C1.44621 0.934744 1.74603 1.07584 1.99295 1.28748L7.49559 5.73192L13.0071 1.28748C13.254 1.07584 13.5538 0.934744 13.8448 1.22575V1.22575Z"
                    fill="currentColor"
                  />
                </svg>
              </span>
              {type.replace(/-/g, ' ')}
            </button>
          </a>
        );
      case 'request-a-referral':
        return (
          <button
            key={type}
            className={`${btnStyle} capitalize`}
            onClick={() => onReferralRequestClick(true)}
          >
            <span className="mr-2">
              <svg
                width="18"
                height="14"
                viewBox="0 0 18 14"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M12.375 13.75C12.375 13.75 13.5 13.75 13.5 12.625C13.5 11.5 12.375 8.125 6.75 8.125C1.125 8.125 0 11.5 0 12.625C0 13.75 1.125 13.75 1.125 13.75H12.375ZM1.14975 12.625H12.3502C12.3555 12.6244 12.3608 12.6236 12.366 12.6228L12.375 12.6205C12.3739 12.3438 12.2018 11.5112 11.439 10.7485C10.7055 10.015 9.32512 9.25 6.75 9.25C4.17375 9.25 2.7945 10.015 2.061 10.7485C1.29825 11.5112 1.12725 12.3438 1.125 12.6205C1.13323 12.6221 1.14148 12.6236 1.14975 12.625ZM6.75 5.875C7.34674 5.875 7.91903 5.63795 8.34099 5.21599C8.76295 4.79403 9 4.22174 9 3.625C9 3.02826 8.76295 2.45597 8.34099 2.03401C7.91903 1.61205 7.34674 1.375 6.75 1.375C6.15326 1.375 5.58097 1.61205 5.15901 2.03401C4.73705 2.45597 4.5 3.02826 4.5 3.625C4.5 4.22174 4.73705 4.79403 5.15901 5.21599C5.58097 5.63795 6.15326 5.875 6.75 5.875ZM10.125 3.625C10.125 4.52011 9.76942 5.37855 9.13649 6.01149C8.50355 6.64442 7.64511 7 6.75 7C5.85489 7 4.99645 6.64442 4.36351 6.01149C3.73058 5.37855 3.375 4.52011 3.375 3.625C3.375 2.72989 3.73058 1.87145 4.36351 1.23851C4.99645 0.605579 5.85489 0.25 6.75 0.25C7.64511 0.25 8.50355 0.605579 9.13649 1.23851C9.76942 1.87145 10.125 2.72989 10.125 3.625ZM17.8358 3.78925C17.8881 3.8415 17.9297 3.90357 17.9581 3.97191C17.9864 4.04025 18.001 4.11351 18.001 4.1875C18.001 4.26149 17.9864 4.33475 17.9581 4.40309C17.9297 4.47143 17.8881 4.5335 17.8358 4.58575L14.4608 7.96075C14.4085 8.01313 14.3464 8.05469 14.2781 8.08305C14.2097 8.11141 14.1365 8.12601 14.0625 8.12601C13.9885 8.12601 13.9153 8.11141 13.8469 8.08305C13.7786 8.05469 13.7165 8.01313 13.6642 7.96075L11.9767 6.27325C11.8711 6.16763 11.8118 6.02437 11.8118 5.875C11.8118 5.72563 11.8711 5.58237 11.9767 5.47675C12.0824 5.37113 12.2256 5.31179 12.375 5.31179C12.5244 5.31179 12.6676 5.37113 12.7733 5.47675L14.0625 6.76713L17.0392 3.78925C17.0915 3.73687 17.1536 3.69531 17.2219 3.66695C17.2903 3.63859 17.3635 3.62399 17.4375 3.62399C17.5115 3.62399 17.5847 3.63859 17.6531 3.66695C17.7214 3.69531 17.7835 3.73687 17.8358 3.78925Z"
                  fill="currentColor"
                />
              </svg>
            </span>
            {type.replace(/-/g, ' ')}
          </button>
        );
      case 'visit-website':
        return !org?.website ? null : (
          <a
            href={`${org?.website}`}
            target="_blank"
            rel="noopener noreferrer"
            className="capitalize"
          >
            <button className={primaryStyle} key={type}>
              <span className="mr-2">
                <svg
                  width="15"
                  height="12"
                  viewBox="0 0 15 12"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M11.0299 7.34279C10.0888 6.52395 8.85973 6.02829 7.51341 6.02829C6.1671 6.02829 4.93799 6.52395 3.99524 7.34446C3.9692 7.36793 3.95327 7.40057 3.95077 7.43554C3.94827 7.4705 3.95941 7.50508 3.98184 7.53201L4.58467 8.25038C4.63323 8.30731 4.71863 8.31401 4.77557 8.26545C5.50566 7.62243 6.46349 7.23394 7.51341 7.23394C8.56334 7.23394 9.52117 7.62243 10.2513 8.26378C10.3082 8.31234 10.3936 8.30564 10.4422 8.24871L11.045 7.53034C11.0919 7.47508 11.0852 7.39135 11.0299 7.34279ZM12.9958 4.99678C11.5105 3.75931 9.59987 3.01414 7.51341 3.01414C5.42696 3.01414 3.51632 3.75931 2.02935 4.99678C2.00214 5.01972 1.98512 5.05249 1.98198 5.08794C1.97884 5.12339 1.98985 5.15864 2.0126 5.186L2.61543 5.90437C2.66232 5.96131 2.74772 5.968 2.80298 5.92112C4.08064 4.85947 5.72335 4.2198 7.51341 4.2198C9.30348 4.2198 10.9462 4.85947 12.2222 5.92112C12.2791 5.968 12.3628 5.96131 12.4097 5.90437L13.0126 5.186C13.0594 5.12907 13.0527 5.04367 12.9958 4.99678V4.99678ZM14.95 2.66919C12.9171 1.00137 10.3149 0 7.47992 0C4.66337 0 2.07791 0.987969 0.0500593 2.6357C0.0361273 2.64689 0.0245757 2.66076 0.016085 2.67649C0.00759417 2.69221 0.00233578 2.70948 0.00061932 2.72727C-0.00109714 2.74506 0.000763087 2.76301 0.00609047 2.78007C0.0114179 2.79713 0.0201046 2.81295 0.0316394 2.8266L0.634468 3.54497C0.681355 3.60023 0.765081 3.6086 0.82034 3.56339C2.64055 2.08813 4.95641 1.20566 7.47992 1.20566C10.0219 1.20566 12.3528 2.10153 14.178 3.5952C14.235 3.64209 14.3187 3.63372 14.3656 3.57678L14.9684 2.85841C15.017 2.80148 15.0086 2.71608 14.95 2.66919ZM6.42497 9.98016C6.42497 10.2644 6.53788 10.537 6.73887 10.738C6.93985 10.9389 7.21244 11.0519 7.49667 11.0519C7.7809 11.0519 8.05349 10.9389 8.25447 10.738C8.45545 10.537 8.56836 10.2644 8.56836 9.98016C8.56836 9.69593 8.45545 9.42334 8.25447 9.22236C8.05349 9.02138 7.7809 8.90847 7.49667 8.90847C7.21244 8.90847 6.93985 9.02138 6.73887 9.22236C6.53788 9.42334 6.42497 9.69593 6.42497 9.98016Z"
                    fill="currentColor"
                  />
                </svg>
              </span>
              Visit Website
            </button>
          </a>
        );
      case 'turn-up':
        return (
          <a
            href={`https://www.google.com/maps/search/?api=1&query=${nameGoogleParam}`}
            rel="noopener noreferrer"
            target="_blank"
          >
            <button className={btnStyle} key={type}>
              <span className="mr-2">
                <svg
                  width="18"
                  height="18"
                  viewBox="0 0 18 18"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M16.8225 7.94251L10.065 1.18501C9.50253 0.622507 8.51253 0.615007 7.94253 1.18501L1.19253 7.93501C0.607534 8.52001 0.607534 9.46501 1.19253 10.05L7.94253 16.8C8.23503 17.0925 8.61753 17.235 9.00003 17.235C9.38253 17.235 9.76503 17.0925 10.0575 16.8L16.8 10.0575C17.3925 9.48751 17.4 8.54251 16.8225 7.94251V7.94251ZM9.00753 15.7425L2.25753 8.99251L9.00753 2.24251L15.7575 8.99251L9.00753 15.7425V15.7425ZM6.00003 8.25001V11.25H7.50003V9.00001H10.5V10.875L13.125 8.25001L10.5 5.62501V7.50001H6.75003C6.33753 7.50001 6.00003 7.83751 6.00003 8.25001Z"
                    fill="currentColor"
                  />
                </svg>
              </span>
              Open in Google Maps
            </button>
          </a>
        );
      default:
        console.log(`No matching CTA type provided`);
    }
  });
};

export default CTAButtons;
